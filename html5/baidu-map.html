<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Hello, World</title>
    <style type="text/css">
        html{height:100%}
        body{height:100%;margin:0px;padding:0px}
        #container{height:100%}
    </style>
    <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=NUU2G0UZ31uHjsyz5cSAbun7Wsaifozn">
        //v2.0版本的引用方式：src="http://api.map.baidu.com/api?v=2.0&ak=您的密钥"
        //v1.4版本及以前版本的引用方式：src="http://api.map.baidu.com/api?v=1.4&key=您的密钥&callback=initialize"
    </script>
</head>

<body>
<div id="container"></div>
<script type="text/javascript">
    window.onload=function(){

        navigator.geolocation.getCurrentPosition(function(position){
            var coords=position.coords;
            console.log(coords);
            var map = new BMap.Map("container");          // 创建地图实例
            var point = new BMap.Point(116.404, 39.915);  // 创建点坐标
            var opts = {type: BMAP_NAVIGATION_CONTROL_LARGE}
            map.centerAndZoom(point, 15);                 // 初始化地图，设置中心点坐标和地图级别
            map.addControl(new BMap.NavigationControl(opts));
            map.addControl(new BMap.ScaleControl());
            map.addControl(new BMap.OverviewMapControl());
            map.addControl(new BMap.MapTypeControl());
            map.addControl(new BMap.CopyrightControl());
            map.addControl(new BMap.GeolocationControl());
            var marker = new BMap.Marker(point);        // 创建标注
            map.addOverlay(marker);
            var opts = {
                width : 250,     // 信息窗口宽度
                height: 100,     // 信息窗口高度
                title : "Hello"  // 信息窗口标题
            }
            var polyline = new BMap.Polyline([
                        new BMap.Point(116.399, 39.910),
                        new BMap.Point(116.405, 39.920)
                    ],
                    {strokeColor:"blue", strokeWeight:6, strokeOpacity:0.5}
            );
            map.addOverlay(polyline);


        });
    }


</script>
</body>
</html>